{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\freeb\\\\OneDrive\\\\Desktop\\\\devCodeCamp\\\\YouTubeCloneProject\\\\YouTubeClone\\\\src\\\\components\\\\CommentsDisplay\\\\CommentsDisplay.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport Replies from '../Replies/Replies';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CommentsDisplay = props => {\n  _s();\n\n  const [comment, SetComment] = useState([]);\n  const [toggle, SetToggle] = useState();\n  console.log(props);\n  useEffect(() => {}, [props.videoId, toggle]);\n\n  const increment = async (id, name) => {\n    let newArr = props.comments;\n    let value;\n    newArr.forEach(comment => {\n      if (comment.id === id) {\n        comment[name] += 1;\n        value = comment[name];\n      }\n    });\n    await axios.patch(`http://127.0.0.1:8000/comments/${id}/`, {\n      [name]: value\n    });\n    SetToggle(!toggle);\n    SetComment(newArr);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: props.comments.map(comment => {\n      if (comment.videoId === props.videoId) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: comment.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: \"likes\",\n            onClick: () => increment(comment.id, 'likes'),\n            children: \"Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: comment.likes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 39\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            name: \"dislikes\",\n            onClick: () => increment(comment.id, 'dislikes'),\n            children: \"Dislike\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: comment.dislikes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 38\n          }, this), /*#__PURE__*/_jsxDEV(Replies, {\n            commentId: comment.id,\n            videoId: this.props.videoId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 37\n          }, this)]\n        }, comment.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 36\n        }, this);\n      }\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CommentsDisplay, \"ugzWzInKc2lNCJ13chkjvQa+0So=\");\n\n_c = CommentsDisplay;\nexport default CommentsDisplay;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentsDisplay\");","map":{"version":3,"sources":["C:/Users/freeb/OneDrive/Desktop/devCodeCamp/YouTubeCloneProject/YouTubeClone/src/components/CommentsDisplay/CommentsDisplay.jsx"],"names":["React","axios","useEffect","useState","Replies","CommentsDisplay","props","comment","SetComment","toggle","SetToggle","console","log","videoId","increment","id","name","newArr","comments","value","forEach","patch","map","likes","dislikes"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,OAAP,MAAoB,oBAApB;;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAAA;;AAC/B,QAAK,CAACC,OAAD,EAASC,UAAT,IAAuBL,QAAQ,CAAC,EAAD,CAApC;AACA,QAAK,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,EAAnC;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AAEAJ,EAAAA,SAAS,CAAC,MAAI,CAEb,CAFQ,EAEP,CAACI,KAAK,CAACO,OAAP,EAAgBJ,MAAhB,CAFO,CAAT;;AAIA,QAAMK,SAAS,GAAG,OAAMC,EAAN,EAAUC,IAAV,KAAmB;AACjC,QAAIC,MAAM,GAAGX,KAAK,CAACY,QAAnB;AACA,QAAIC,KAAJ;AACAF,IAAAA,MAAM,CAACG,OAAP,CAAeb,OAAO,IAAI;AACtB,UAAGA,OAAO,CAACQ,EAAR,KAAeA,EAAlB,EAAsB;AAClBR,QAAAA,OAAO,CAACS,IAAD,CAAP,IAAiB,CAAjB;AACAG,QAAAA,KAAK,GAAGZ,OAAO,CAACS,IAAD,CAAf;AACH;AACJ,KALD;AAMA,UAAMf,KAAK,CAACoB,KAAN,CAAa,kCAAiCN,EAAG,GAAjD,EAAqD;AAAE,OAACC,IAAD,GAAQG;AAAV,KAArD,CAAN;AACAT,IAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;AACAD,IAAAA,UAAU,CAACS,MAAD,CAAV;AACN,GAZE;;AAcA,sBACI;AAAA,cACKX,KAAK,CAACY,QAAN,CAAeI,GAAf,CAAmBf,OAAO,IAAI;AACnB,UAAGA,OAAO,CAACM,OAAR,KAAoBP,KAAK,CAACO,OAA7B,EAAqC;AACjC,4BAAO;AAAA,kCACC;AAAA,sBAAIN,OAAO,CAACA;AAAZ;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAQ,YAAA,IAAI,EAAC,OAAb;AAAqB,YAAA,OAAO,EAAE,MAAMO,SAAS,CAACP,OAAO,CAACQ,EAAT,EAAa,OAAb,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,eAGG;AAAA,sBAAIR,OAAO,CAACgB;AAAZ;AAAA;AAAA;AAAA;AAAA,kBAHH,eAIC;AAAQ,YAAA,IAAI,EAAC,UAAb;AAAwB,YAAA,OAAO,EAAE,MAAMT,SAAS,CAACP,OAAO,CAACQ,EAAT,EAAa,UAAb,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJD,eAKE;AAAA,sBAAIR,OAAO,CAACiB;AAAZ;AAAA;AAAA;AAAA;AAAA,kBALF,eAMC,QAAC,OAAD;AAAS,YAAA,SAAS,EAAEjB,OAAO,CAACQ,EAA5B;AAAgC,YAAA,OAAO,EAAE,KAAKT,KAAL,CAAWO;AAApD;AAAA;AAAA;AAAA;AAAA,kBAND;AAAA,WAAUN,OAAO,CAACQ,EAAlB;AAAA;AAAA;AAAA;AAAA,gBAAP;AAQH;AACJ,KAXR;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAiBH,CAxCD;;GAAMV,e;;KAAAA,e;AA0CN,eAAeA,eAAf","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport Replies from '../Replies/Replies';\r\n\r\nconst CommentsDisplay = (props) => {\r\n    const[comment,SetComment] = useState([])\r\n    const[toggle, SetToggle] = useState()\r\n    console.log(props)\r\n\r\n    useEffect(()=>{\r\n        \r\n    },[props.videoId, toggle])\r\n\r\n    const increment = async(id, name) => {\r\n        let newArr = props.comments\r\n        let value;\r\n        newArr.forEach(comment => {\r\n            if(comment.id === id) {\r\n                comment[name] += 1\r\n                value = comment[name]\r\n            }\r\n        })\r\n        await axios.patch(`http://127.0.0.1:8000/comments/${id}/`, { [name]: value })\r\n        SetToggle(!toggle)\r\n        SetComment(newArr)\r\n }\r\n\r\n    return(\r\n        <div>\r\n            {props.comments.map(comment => {\r\n                        if(comment.videoId === props.videoId){ \r\n                            return <div key={comment.id}>\r\n                                    <p>{comment.comment}</p>\r\n                                    <button name=\"likes\" onClick={() => increment(comment.id, 'likes')}>Like</button>\r\n                                     {<p>{comment.likes}</p>}\r\n                                    <button name=\"dislikes\" onClick={() => increment(comment.id, 'dislikes')}>Dislike</button>\r\n                                    {<p>{comment.dislikes}</p>}\r\n                                    <Replies commentId={comment.id} videoId={this.props.videoId}/>\r\n                                    </div>\r\n                        }\r\n                    })}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default CommentsDisplay"]},"metadata":{},"sourceType":"module"}